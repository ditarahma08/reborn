"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _Star = _interopRequireDefault(require("./Star"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/* eslint-disable jsx-a11y/no-static-element-interactions */
var propTypes = {
  rating: _propTypes["default"].number,
  iconHeight: _propTypes["default"].number,
  iconWidth: _propTypes["default"].number
};

var RatingStar = function RatingStar(props) {
  var rating = props.rating,
      iconHeight = props.iconHeight,
      iconWidth = props.iconWidth;

  var generatePercentage = function generatePercentage(percentage, index, fullStar) {
    var zeroStar = Math.ceil(rating) - 1;

    if (index < fullStar) {
      return 'full';
    }

    if (index === zeroStar && percentage > 0 && percentage < 40) {
      return 'quarter';
    }

    if (index === zeroStar && percentage >= 40 && percentage < 60) {
      return 'half';
    }

    if (index === zeroStar && percentage >= 60 && percentage < 100) {
      return 'three-quarter';
    }

    return 'zero';
  };

  var ratings = function ratings() {
    var contents = [];

    for (var i = 0; i < 5; i += 1) {
      var percentageCount = rating % 1 * 100;
      var fullStarTotal = Math.floor(rating);
      var ratingPercentage = generatePercentage(percentageCount, i, fullStarTotal);
      var ratingProps = {
        percentage: ratingPercentage
      };
      contents.push(ratingProps);
    }

    return contents;
  };

  return /*#__PURE__*/_react["default"].createElement("div", {
    className: "d-flex"
  }, ratings().map(function (item, index) {
    return /*#__PURE__*/_react["default"].createElement(_Star["default"], {
      height: iconHeight,
      width: iconWidth,
      type: item.percentage,
      key: "star-".concat(index)
    });
  }));
};

RatingStar.propTypes = propTypes;
var _default = RatingStar;
exports["default"] = _default;
//# sourceMappingURL=RatingStar.js.map