"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _Badge = _interopRequireDefault(require("../badge/Badge"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var propTypes = {
  maxChar: _propTypes["default"].number,
  labels: _propTypes["default"].array,
  color: _propTypes["default"].string,
  className: _propTypes["default"].string
};

var AutoWidthLabels = function AutoWidthLabels(_ref) {
  var _ref$maxChar = _ref.maxChar,
      maxChar = _ref$maxChar === void 0 ? 18 : _ref$maxChar,
      labels = _ref.labels,
      color = _ref.color,
      className = _ref.className;

  if (labels === undefined || labels.length === 0) {
    return null;
  }

  function funcLengthSum(accum, value) {
    return accum + value.length;
  }

  var countLabels = 100;
  var label = labels.reduce(function (values, value) {
    countLabels = values["in"].reduce(funcLengthSum, 0);

    if (countLabels + value.length > maxChar) {
      values.out.push(value);
      return values;
    }

    values["in"].push(value);
    return values;
  }, {
    "in": [],
    out: []
  });
  var hoverLabel = '';

  if (label.out.length > 0) {
    hoverLabel = label.out.join(', ');
  }

  return /*#__PURE__*/_react["default"].createElement(_react["default"].Fragment, null, label["in"].map(function (value) {
    return /*#__PURE__*/_react["default"].createElement(_Badge["default"], {
      key: value,
      color: color,
      size: "sm",
      className: className
    }, value);
  }), label.out.length > 0 && /*#__PURE__*/_react["default"].createElement(_Badge["default"], {
    title: hoverLabel,
    key: "others",
    color: color,
    size: "sm",
    className: className
  }, label.out.length, "+"));
};

AutoWidthLabels.propTypes = propTypes;
var _default = AutoWidthLabels;
exports["default"] = _default;
//# sourceMappingURL=AutoWidthLabels.js.map