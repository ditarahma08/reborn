import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';
import Card from './Card';
import Text from '../text/Text';
import RatingStar from '../rating/RatingStar';
import { mapToCssModules } from '../utils';

const propTypes = {
  content: PropTypes.string,
  username: PropTypes.string,
  date: PropTypes.string,
  small: PropTypes.bool,
  rating: PropTypes.number,
  charShow: PropTypes.number,
  showDate: PropTypes.bool,
  infoInline: PropTypes.bool,
};

const CardReview = (props) => {
  const {
    content,
    username,
    date,
    small,
    rating,
    showDate,
    infoInline,
    charShow = 150,
  } = props;
  const classes = mapToCssModules(
    classNames(
      'card-review p-3',
      small ? 'card-review card-review--carousel' : 'w-100',
    ),
  );

  return (
    <Card className={classes}>
      <Text color="title-active" className="text-xs card-review--content">
        {content.slice(0, charShow)}
        {content?.length > charShow && (
          <>
            <Text color="title-active" className="text-cs">
              ...&nbsp;
            </Text>
            <Text color="primary" weight="bold" className="pointer">
              {' '}
              Lanjut Baca
            </Text>
          </>
        )}
      </Text>

      <div
        className={`d-flex ${
          infoInline
            ? 'justify-content-between align-items-center'
            : 'flex-column'
        }`}
      >
        <div className="d-flex flex-column">
          <Text
            color="dark"
            weight="bold"
            className="text-xs my-1 card-review--username"
          >
            {username}
          </Text>

          {showDate && (
            <Text color="placeholder" className="text-xxs mb-1">
              {date}
            </Text>
          )}
        </div>
      </div>
      <div className="d-flex flex-column">
        <RatingStar iconWidth={25} iconHeight={25} rating={rating} />
      </div>
    </Card>
  );
};

CardReview.propTypes = propTypes;
export default CardReview;
